{
  "id": "b764f1c6-b8c0-4aeb-a202-fb73000f1f5d",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.contribuyentes": {
      "name": "contribuyentes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "nit": {
          "name": "nit",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tipo_documento": {
          "name": "tipo_documento",
          "type": "tipo_documento",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'nit'"
        },
        "nombre_razon_social": {
          "name": "nombre_razon_social",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "telefono": {
          "name": "telefono",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "direccion": {
          "name": "direccion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ciudad": {
          "name": "ciudad",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "departamento": {
          "name": "departamento",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.historial_proceso": {
      "name": "historial_proceso",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "proceso_id": {
          "name": "proceso_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "usuario_id": {
          "name": "usuario_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "tipo_evento": {
          "name": "tipo_evento",
          "type": "tipo_evento_historial",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "estado_anterior": {
          "name": "estado_anterior",
          "type": "estado_proceso",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "estado_nuevo": {
          "name": "estado_nuevo",
          "type": "estado_proceso",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "comentario": {
          "name": "comentario",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "fecha": {
          "name": "fecha",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "historial_proceso_proceso_id_procesos_id_fk": {
          "name": "historial_proceso_proceso_id_procesos_id_fk",
          "tableFrom": "historial_proceso",
          "tableTo": "procesos",
          "columnsFrom": [
            "proceso_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "historial_proceso_usuario_id_usuarios_id_fk": {
          "name": "historial_proceso_usuario_id_usuarios_id_fk",
          "tableFrom": "historial_proceso",
          "tableTo": "usuarios",
          "columnsFrom": [
            "usuario_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.impuestos": {
      "name": "impuestos",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "nombre": {
          "name": "nombre",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "codigo": {
          "name": "codigo",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tipo": {
          "name": "tipo",
          "type": "tipo_impuesto",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "descripcion": {
          "name": "descripcion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "activo": {
          "name": "activo",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "impuestos_codigo_unique": {
          "name": "impuestos_codigo_unique",
          "nullsNotDistinct": false,
          "columns": [
            "codigo"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.procesos": {
      "name": "procesos",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "impuesto_id": {
          "name": "impuesto_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "contribuyente_id": {
          "name": "contribuyente_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "vigencia": {
          "name": "vigencia",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "periodo": {
          "name": "periodo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "monto_cop": {
          "name": "monto_cop",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "estado_actual": {
          "name": "estado_actual",
          "type": "estado_proceso",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pendiente'"
        },
        "asignado_a_id": {
          "name": "asignado_a_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "fecha_limite": {
          "name": "fecha_limite",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "creado_en": {
          "name": "creado_en",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "actualizado_en": {
          "name": "actualizado_en",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "procesos_impuesto_id_impuestos_id_fk": {
          "name": "procesos_impuesto_id_impuestos_id_fk",
          "tableFrom": "procesos",
          "tableTo": "impuestos",
          "columnsFrom": [
            "impuesto_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "cascade"
        },
        "procesos_contribuyente_id_contribuyentes_id_fk": {
          "name": "procesos_contribuyente_id_contribuyentes_id_fk",
          "tableFrom": "procesos",
          "tableTo": "contribuyentes",
          "columnsFrom": [
            "contribuyente_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "cascade"
        },
        "procesos_asignado_a_id_usuarios_id_fk": {
          "name": "procesos_asignado_a_id_usuarios_id_fk",
          "tableFrom": "procesos",
          "tableTo": "usuarios",
          "columnsFrom": [
            "asignado_a_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.usuarios": {
      "name": "usuarios",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "nombre": {
          "name": "nombre",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "password_hash": {
          "name": "password_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rol": {
          "name": "rol",
          "type": "rol_usuario",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'empleado'"
        },
        "activo": {
          "name": "activo",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "usuarios_email_unique": {
          "name": "usuarios_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.estado_proceso": {
      "name": "estado_proceso",
      "schema": "public",
      "values": [
        "pendiente",
        "asignado",
        "en_contacto",
        "notificado",
        "en_negociacion",
        "cobrado",
        "incobrable",
        "en_cobro_coactivo",
        "suspendido"
      ]
    },
    "public.rol_usuario": {
      "name": "rol_usuario",
      "schema": "public",
      "values": [
        "admin",
        "empleado"
      ]
    },
    "public.tipo_documento": {
      "name": "tipo_documento",
      "schema": "public",
      "values": [
        "nit",
        "cedula"
      ]
    },
    "public.tipo_evento_historial": {
      "name": "tipo_evento_historial",
      "schema": "public",
      "values": [
        "cambio_estado",
        "asignacion",
        "nota",
        "notificacion",
        "pago"
      ]
    },
    "public.tipo_impuesto": {
      "name": "tipo_impuesto",
      "schema": "public",
      "values": [
        "nacional",
        "municipal"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}